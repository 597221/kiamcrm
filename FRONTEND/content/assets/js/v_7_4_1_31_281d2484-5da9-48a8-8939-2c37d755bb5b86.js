import{j as e,_ as i,a2 as I,T as k,af as P,aH as F,ag as w,q as N,I as z}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b10.js";import{a as s}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b4.js";import{o as O,q as R,ac as S,C as U,a as B,p as D,ad as V,a2 as W}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b23.js";import{u as q,b as H}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b19.js";import{u as v}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b21.js";import{W as x}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b18.js";import{b as G}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b60.js";import{e as J}from"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b40.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b8.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b5.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b7.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b6.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b9.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b2.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b3.js";import"./v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b47.js";const K=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b154.js")),[]));function Q(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(K,{})})}const X=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b155.js")),[]));function Y({userId:n}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(X,{userId:n})})}const Z=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b156.js")),[]));function $({userId:n,setUserLabels:d,userLabels:p}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Z,{userId:n,setUserLabels:d,userLabels:p})})}const ee=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b157.js")),[]));function ae(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ee,{})})}const se=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b158.js")),[]));function te({userId:n}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(se,{userId:n})})}const ne=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_1_31_281d2484-5da9-48a8-8939-2c37d755bb5b159.js")),[]));function re({userId:n}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ne,{userId:n})})}function ve(){var h,_;const{open:n}=O(),{label:d}=R(),{pinChat:p,isPin:g}=S(),o=(_=(h=U().activeChat)==null?void 0:h.id)==null?void 0:_.user,{language:t}=q(),{getUserAbasTam:y}=B(),{isBusiness:b}=H(),{open:l}=D(),A=v(a=>a.close),E=v(a=>a.open),[c,j]=s.useState(null);s.useEffect(()=>{b&&(async()=>{try{const r=await x.Labels("getAllLabels"),u=await x.Utils("getContato",o);if(u==="undefined")return;const M=u.labels.map(f=>r.find(m=>m.hexColor&&m.id===f)).filter(Boolean).map(({id:f,name:m,hexColor:L})=>({id:f,name:m,color:L,hexColor:L}));j(M)}catch(r){console.error(t.erroAoBuscarLabels,r)}})()},[o]);const T=async()=>{await W("clear_message")!==!0&&(await x.Msg("showClearMsg")?z({type:"Success",message:t.asMensagensApagasForamRecuperadas,position:"top-right"}):z({type:"Error",message:t.nenhumaMensagemApagadaFoiRecuperada,position:"top-right"}))},C=[{id:0,name:t.iniciarUmFluxoParaEsteContato,icon:e.jsx(I,{size:20}),count:null,func:a=>{l(e.jsx(re,{userId:o}),{placement:"bottom"},a.target,15)}},{id:1,name:g()?t.desafixarChat:t.fixarChat,icon:e.jsx(k,{className:g()?"!text-[var(--wds-teal-500)]":"",size:20}),count:null,func:()=>p()},{id:2,name:t.exibirMensagensApagadasRecente,icon:e.jsx(V,{size:20,strokeWidth:"1.8"}),count:null,func:()=>T()},{id:3,name:t.traducaoComIA,icon:e.jsx(J,{size:20}),count:null,func:()=>n(e.jsx(Q,{}))},{id:4,name:t.userTabs,icon:e.jsx(P,{size:20}),count:y(o),func:a=>{l(e.jsx(Y,{userId:o}),{placement:"bottom"},a.target,15)}},{id:5,name:t.tags,icon:c&&c.length>0?e.jsx("div",{className:"flex",children:c.map((a,r)=>e.jsx("span",{style:r!==0?{marginLeft:"-1rem"}:null,children:e.jsx(F,{size:24,style:{color:a.color}})},r))}):e.jsx(w,{size:20}),count:null,func:a=>{l(e.jsx($,{userId:o,setUserLabels:j,userLabels:c}),{placement:"bottom"},a.target.parentNode.parentNode,15)},renderInNotBussines:!b},{id:6,name:t.transferirAtendimento,icon:e.jsx(N,{size:20}),count:null,func:a=>{l(e.jsx(ae,{}),{placement:"bottom"},a.target,15)}},{id:7,name:t.fimAtendimento_encerrar,icon:e.jsx(G,{size:20}),count:null,func:a=>{l(e.jsx(te,{userId:o}),{placement:"bottom"},a.target,15)}}];return e.jsx("ul",{children:e.jsx("div",{className:"flex items-center gap-2 mr-1",children:C.map((a,r)=>!a.renderInNotBussines&&e.jsxs("li",{onMouseEnter:u=>E(a.name,{placement:"bottom"},u.target),onMouseLeave:A,children:[(a.count??0)>=1&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute -top-1 -right-2",children:e.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)] ",children:e.jsx("em",{className:"text-[#ffffffd4] font-bold",children:a.count})})})}),e.jsx("div",{onClick:a.func,children:e.jsx("div",{"tag-ref":"btn",className:"menu-item pulse cursor-pointer rounded-[10px] p-2 bg-[var(--menu-bar-item-background-active)] hover:!bg-[var(--primaria)] hover:!text-[var(--letra)] "+(d.cor_primaria?"text-[var(--primaria)]":"text-[var(--panel-header-icon)]"),children:a.icon})},a.id)]},r))})})}export{ve as default};
